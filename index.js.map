{"version":3,"file":"index.js","sources":["../src/js/weeklyTrends.js","../src/js/upcoming.js","../src/main.js"],"sourcesContent":["//#region \nimport { showLoader, hideLoader } from './loader.js';\n\nconst trendCards = document.querySelector('.trend-cards');\n\nasync function getWeeklyTrends() {\n  try {\n    showLoader();\n\n    const options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZTk4ZmY3ODg1ZTM2MWU4Y2UxZDVlYjZkMWQ3ZGU4NiIsIm5iZiI6MTc0MzY4NTIxNS4xNDIwMDAyLCJzdWIiOiI2N2VlODY1ZjAzNTQwY2Y4ZTU2MmI5NWEiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.2dJFIqnvzkqw_5VH2b_FLFt5Hwkp3DrqAqyG_61G1pA',\n      },\n    };\n\n    const response = await fetch(\n      'https://api.themoviedb.org/3/trending/all/day?language=en-US',\n      options\n    );\n    const data = await response.json();\n\n    // üé≤ Karƒ±≈ütƒ±rma fonksiyonu\n    function shuffleArray(array) {\n      for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n      }\n      return array;\n    }\n\n    // üì±üñ•Ô∏è Ekran boyutuna g√∂re film sayƒ±sƒ± belirle\n    const screenWidth = window.innerWidth;\n    const movieCount = screenWidth <= 576 ? 1 : 3;\n\n    // üé¨ Filmleri karƒ±≈ütƒ±r ve ekrana yaz\n    const shuffledResults = shuffleArray(data.results).slice(0, movieCount);\n\n    trendCards.innerHTML = ''; // √ñnceki kartlarƒ± temizle\n\n    shuffledResults.forEach(moviee => {\n      const cardss = document.createElement('li');\n      cardss.className = 'cards';\n      cardss.style.backgroundImage = `url(https://image.tmdb.org/t/p/original${moviee.poster_path})`;\n\n      cardss.innerHTML = `\n        <div class=\"about\">\n          <h3 class=\"filmm-name\">${moviee.title || moviee.name}</h3>\n          <p class=\"filmm-content\">${moviee.release_date}</p>\n        </div>\n        <div class=\"movies__list-item-rating\">\n          ${Array.from({ length: 5 }, (_, index) =>\n            index < Math.round(moviee.vote_average || 0)\n              ? '<img src=\"./images/star.png\" alt=\"star\">'\n              : '<img src=\"./images/star-outline.png\" alt=\"empty star\">'\n          ).join('')}\n        </div>\n      `;\n\n      trendCards.appendChild(cardss);\n    });\n  } catch (error) {\n    console.error('Veri √ßekme hatasƒ±:', error);\n  } finally {\n    hideLoader();\n  }\n}\n\n// üì• Sayfa y√ºklendiƒüinde √ßalƒ±≈ütƒ±r\ngetWeeklyTrends();\n\n// üìè Ekran boyutu deƒüi≈üince yeniden y√ºkle\nlet lastScreenWidth = window.innerWidth;\n\nwindow.addEventListener('resize', () => {\n  // sadece √∂nemli deƒüi≈üiklik varsa yeniden √ßek\n  if (\n    (lastScreenWidth <= 576 && window.innerWidth > 576) ||\n    (lastScreenWidth > 576 && window.innerWidth <= 576)\n  ) {\n    lastScreenWidth = window.innerWidth;\n    getWeeklyTrends();\n  }\n});\n","const getUpcoming = async () => {\n    return new Promise((resolve, reject) => {\n        const options = {\n            method: 'GET',\n            headers: {\n                accept: 'application/json',\n                Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMTU5ZDczMTAzOWRjYWNhYzc1ZjBkNmEyZDUzNzFjYSIsIm5iZiI6MTc0MzIwMzMwOC4zMTQsInN1YiI6IjY3ZTcyYmVjMGU4ZWU2NzgxNTY3YTQ4NyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.H1VcIsy5PEjzy4uHm47ss9XozIyh5LIka9hEmPAOO3k'\n            }\n        };\n\n        fetch('https://api.themoviedb.org/3/movie/upcoming?language=en-US&page=1', options)\n            .then(res => res.json())\n            .then(res => {\n                resolve(res);\n            })\n            .catch(err => console.error(err));\n    });\n};\n\n\ngetUpcoming().then(res => {\n    // Random number\n    const randomIndex = Math.floor(Math.random() * res.results.length);\n    // Get random movie\n    const randomMovie = res.results[randomIndex];\n    // console.clear();\n    // Image URL : https://image.tmdb.org/t/p/original/ ${film.backdrop_path}\n  \n\n    document.querySelector(\"#img-div-upcoming\").style.backgroundImage = `url(https://image.tmdb.org/t/p/original${randomMovie.poster_path})`;\n    document.querySelector(\"#upcoming-title\").textContent = randomMovie.original_title;\n    document.querySelector(\"#upcoming-date\").textContent = randomMovie.release_date;\n    document.querySelector(\"#upcoming-vote\").textContent = randomMovie.vote_average;\n    document.querySelector(\"#upcoming-votes\").textContent = randomMovie.vote_count;\n    document.querySelector('#upcoming-popularity').textContent = randomMovie.popularity;\n\n    const upComingGenreMap = {\n        28: 'Action',\n        12: 'Adventure',\n        16: 'Animation',\n        35: 'Comedy',\n        80: 'Crime',\n        99: 'Documentary',\n        18: 'Drama',\n        10751: 'Family',\n        14: 'Fantasy',\n        36: 'History',\n        27: 'Horror',\n        10402: 'Music',\n        9648: 'Mystery',\n        10749: 'Romance',\n        878: 'Science Fiction',\n        10770: 'TV Movie',\n        53: 'Thriller',\n        10752: 'War',\n        37: 'Western'\n    };\n    document.querySelector('#upcoming-genres').textContent = randomMovie.genre_ids.map(genre => upComingGenreMap[genre]).join(', ');\n    document.querySelector('#upcoming-overview').textContent = randomMovie.overview;\n    document.querySelector('#upcoming-add-library').setAttribute('data-movie',JSON.stringify(randomMovie));\n    console.log(\"Movie:\",randomMovie);\n    document.querySelector('#upcoming-remove-library').setAttribute('data-movie-id',randomMovie.id);\n\n    document.querySelector('#upcoming-add-library').addEventListener('click', e => {\n        const stringifyMovie = e.target.getAttribute('data-movie');\n        const localLibraryStorage = JSON.parse(localStorage.getItem('myLibrary')) || [];\n        localLibraryStorage.push(JSON.parse(stringifyMovie));\n        localStorage.setItem('myLibrary', JSON.stringify(localLibraryStorage));\n        e.target.style.display = 'none';\n        document.querySelector('#upcoming-remove-library').style.display = 'block';\n    });\n    document.querySelector('#upcoming-remove-library').addEventListener(\"click\", e => {\n        // document.querySelector('#upcoming-add-library').style.display = 'block';\n        // e.target.style.display = 'none';\n        const movieId = e.target.getAttribute('data-movie-id');\n        console.log(\"Movie ID:\",movieId);\n        const localLibraryStorage = JSON.parse(localStorage.getItem('myLibrary')) || [];\n        const findMovie = localLibraryStorage.find(movie => movie.id === Number(movieId))\n        const filtersMovieList = localLibraryStorage.filter(movie => movie.id !== Number(movieId))\n        console.log(\"Movie:\",filtersMovieList);\n\n    })\n\n})","// @murselsen\nimport './js/navbar.js';\n// @sumeyyeterzi\nimport './js/errorModal.js';\n// @murselsen\nimport './js/hero.js';\n// @Neginkrml\nimport './js/weeklyTrends.js';\n// @Dilaraydmr\nimport './js/upcoming.js';\n// @AlperKale\nimport { showLoader, hideLoader } from './js/loader.js';\nimport './js/scroll-up.js';\n// @erdem6161\nimport './js/footer.js';\nimport './js/members-modal.js';\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Sayfanƒ±n tamamen y√ºklenmesini bekleyelim\n  // Bu sƒ±rada showLoader'ƒ± √ßaƒüƒ±rarak loader'ƒ± g√∂steriyoruz\n  showLoader();\n  \n  // Sayfa tamamen y√ºklendiƒüinde loader'ƒ± gizle\n  window.addEventListener('load', () => {\n    // Loader'ƒ± gizle\n    // hideLoader fonksiyonu zaten minimum g√∂sterim s√ºresini dikkate alacak\n    setTimeout(() => {\n      hideLoader();\n    }, 500); // Sayfanƒ±n tam y√ºklenmesinden sonra 0.5 saniye daha bekle\n  });\n});\n"],"names":["trendCards","getWeeklyTrends","shuffleArray","array","i","j","showLoader","data","movieCount","shuffledResults","moviee","cardss","_","index","error","hideLoader","lastScreenWidth","getUpcoming","resolve","reject","res","err","randomIndex","randomMovie","upComingGenreMap","genre","e","stringifyMovie","localLibraryStorage","movieId","movie","filtersMovieList"],"mappings":"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"}