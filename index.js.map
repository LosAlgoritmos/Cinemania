{"version":3,"file":"index.js","sources":["../src/js/weeklyTrends.js","../src/js/upcoming.js","../src/main.js"],"sourcesContent":["//#region \r\nimport { showLoader, hideLoader } from './loader.js';\r\nimport { renderMovieInfoPopup } from './infoPopup.js';\r\nconst trendCards = document.querySelector('.trend-cards');\r\n\r\nasync function getWeeklyTrends() {\r\n  try {\r\n    showLoader();\r\n\r\n    const options = {\r\n      method: 'GET',\r\n      headers: {\r\n        accept: 'application/json',\r\n        Authorization:\r\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZTk4ZmY3ODg1ZTM2MWU4Y2UxZDVlYjZkMWQ3ZGU4NiIsIm5iZiI6MTc0MzY4NTIxNS4xNDIwMDAyLCJzdWIiOiI2N2VlODY1ZjAzNTQwY2Y4ZTU2MmI5NWEiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.2dJFIqnvzkqw_5VH2b_FLFt5Hwkp3DrqAqyG_61G1pA',\r\n      },\r\n    };\r\n\r\n    const response = await fetch(\r\n      'https://api.themoviedb.org/3/trending/all/day?language=en-US',\r\n      options\r\n    );\r\n    const data = await response.json();\r\n\r\n    // üé≤ Karƒ±≈ütƒ±rma fonksiyonu\r\n    function shuffleArray(array) {\r\n      for (let i = array.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [array[i], array[j]] = [array[j], array[i]];\r\n      }\r\n      return array;\r\n    }\r\n\r\n    // üì±üñ•Ô∏è Ekran boyutuna g√∂re film sayƒ±sƒ± belirle\r\n    const screenWidth = window.innerWidth;\r\n    const movieCount = screenWidth <= 576 ? 1 : 3;\r\n\r\n    // üé¨ Filmleri karƒ±≈ütƒ±r ve ekrana yaz\r\n    const shuffledResults = shuffleArray(data.results).slice(0, movieCount);\r\n\r\n    trendCards.innerHTML = ''; // √ñnceki kartlarƒ± temizle\r\n\r\n    shuffledResults.forEach(moviee => {\r\n      const cardss = document.createElement('li');\r\n      cardss.className = 'cards';\r\n      cardss.style.backgroundImage = `url(https://image.tmdb.org/t/p/original${moviee.poster_path})`;\r\n      const stars = [\r\n        `<span class=\"star star-outline\"></span>`,\r\n        `<span class=\"star star-outline\"></span>`,\r\n        `<span class=\"star star-outline\"></span>`,\r\n        `<span class=\"star star-outline\"></span>`,\r\n        `<span class=\"star star-outline\"></span>`,\r\n      ];\r\n      for (let i = 0; i <= moviee.vote_average / 2; i++) {\r\n        stars[i] = `<span class=\"star star\"></span>`;\r\n      }\r\n      cardss.innerHTML = `\r\n        <div class=\"about\">\r\n          <h3 class=\"filmm-name\">${moviee.title || moviee.name}</h3>\r\n          <p class=\"filmm-content\">${moviee.release_date}</p>\r\n        </div>\r\n        <div class=\"movies__list-item-rating\">\r\n          ${stars.join('')}\r\n        </div>\r\n      `;\r\n      cardss.addEventListener('click', () => {\r\n        renderMovieInfoPopup(moviee)\r\n      });\r\n      trendCards.appendChild(cardss);\r\n    });\r\n  } catch (error) {\r\n    console.error('Veri √ßekme hatasƒ±:', error);\r\n  } finally {\r\n    hideLoader();\r\n  }\r\n}\r\n\r\n// üì• Sayfa y√ºklendiƒüinde √ßalƒ±≈ütƒ±r\r\ngetWeeklyTrends();\r\n\r\n// üìè Ekran boyutu deƒüi≈üince yeniden y√ºkle\r\nlet lastScreenWidth = window.innerWidth;\r\n\r\nwindow.addEventListener('resize', () => {\r\n  // sadece √∂nemli deƒüi≈üiklik varsa yeniden √ßek\r\n  if (\r\n    (lastScreenWidth <= 576 && window.innerWidth > 576) ||\r\n    (lastScreenWidth > 576 && window.innerWidth <= 576)\r\n  ) {\r\n    lastScreenWidth = window.innerWidth;\r\n    getWeeklyTrends();\r\n  }\r\n});\r\n","import {isLocalMovieById,\r\n    addMovieToLocalStorage,removeMovieToLocalStorage\r\n} from './infoPopup.js';\r\nconst getUpcoming = async () => {\r\n    return new Promise((resolve, reject) => {\r\n        const options = {\r\n            method: 'GET',\r\n            headers: {\r\n                accept: 'application/json',\r\n                Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMTU5ZDczMTAzOWRjYWNhYzc1ZjBkNmEyZDUzNzFjYSIsIm5iZiI6MTc0MzIwMzMwOC4zMTQsInN1YiI6IjY3ZTcyYmVjMGU4ZWU2NzgxNTY3YTQ4NyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.H1VcIsy5PEjzy4uHm47ss9XozIyh5LIka9hEmPAOO3k'\r\n            }\r\n        };\r\n\r\n        fetch('https://api.themoviedb.org/3/movie/upcoming?language=en-US&page=1', options)\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                resolve(res);\r\n            })\r\n            .catch(err => console.error(err));\r\n    });\r\n};\r\n\r\n\r\ngetUpcoming().then(res => {\r\n    // Random number\r\n    const randomIndex = Math.floor(Math.random() * res.results.length);\r\n    // Get random movie\r\n    const randomMovie = res.results[randomIndex];\r\n    // console.clear();\r\n    // Image URL : https://image.tmdb.org/t/p/original/ ${film.backdrop_path}\r\n\r\n\r\n    document.querySelector(\"#img-div-upcoming\").style.backgroundImage = `url(https://image.tmdb.org/t/p/original${randomMovie.poster_path})`;\r\n    document.querySelector(\"#upcoming-title\").textContent = randomMovie.original_title;\r\n    document.querySelector(\"#upcoming-date\").textContent = randomMovie.release_date;\r\n    document.querySelector(\"#upcoming-vote\").textContent = randomMovie.vote_average.toFixed(1);\r\n    document.querySelector(\"#upcoming-votes\").textContent = randomMovie.vote_count;\r\n    document.querySelector('#upcoming-popularity').textContent = randomMovie.popularity;\r\n\r\n    const upComingGenreMap = {\r\n        28: 'Action',\r\n        12: 'Adventure',\r\n        16: 'Animation',\r\n        35: 'Comedy',\r\n        80: 'Crime',\r\n        99: 'Documentary',\r\n        18: 'Drama',\r\n        10751: 'Family',\r\n        14: 'Fantasy',\r\n        36: 'History',\r\n        27: 'Horror',\r\n        10402: 'Music',\r\n        9648: 'Mystery',\r\n        10749: 'Romance',\r\n        878: 'Science Fiction',\r\n        10770: 'TV Movie',\r\n        53: 'Thriller',\r\n        10752: 'War',\r\n        37: 'Western'\r\n    };\r\n    document.querySelector('#upcoming-genres').textContent = randomMovie.genre_ids.map(genre => upComingGenreMap[genre]).join(', ');\r\n    document.querySelector('#upcoming-overview').textContent = randomMovie.overview;\r\n\r\n    if(!isLocalMovieById(randomMovie.id)) {\r\n        document.querySelector('#upcoming-add-library').style.display = 'block';\r\n        document.querySelector('#upcoming-remove-library').style.display = 'none';\r\n    } else {\r\n        document.querySelector('#upcoming-add-library').style.display = 'none';\r\n        document.querySelector('#upcoming-remove-library').style.display = 'block';\r\n    }\r\n     \r\n    document.querySelector('#upcoming-add-library').addEventListener('click', e => {\r\n        \r\n        e.target.style.display = 'none';\r\n\r\n        addMovieToLocalStorage(randomMovie);\r\n\r\n        document.querySelector('#upcoming-remove-library').style.display = 'block';\r\n    });\r\n    document.querySelector('#upcoming-remove-library').addEventListener(\"click\", e => {\r\n   \r\n        document.querySelector('#upcoming-remove-library').style.display = 'none';\r\n        removeMovieToLocalStorage(randomMovie);\r\n        document.querySelector('#upcoming-add-library').style.display = 'block';\r\n    })\r\n\r\n})","// @murselsen\r\nimport './js/navbar.js';\r\n// @sumeyyeterzi\r\nimport './js/errorModal.js';\r\n// @murselsen\r\nimport './js/hero.js';\r\n// @Neginkrml\r\nimport './js/weeklyTrends.js';\r\n// @Dilaraydmr\r\nimport './js/upcoming.js';\r\n// @AlperKale\r\nimport { showLoader, hideLoader } from './js/loader.js';\r\nimport './js/scroll-up.js';\r\n// @erdem6161\r\nimport './js/footer.js';\r\nimport './js/members-modal.js';\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  // Sayfanƒ±n tamamen y√ºklenmesini bekleyelim\r\n  // Bu sƒ±rada showLoader'ƒ± √ßaƒüƒ±rarak loader'ƒ± g√∂steriyoruz\r\n  showLoader();\r\n  \r\n  // Sayfa tamamen y√ºklendiƒüinde loader'ƒ± gizle\r\n  window.addEventListener('load', () => {\r\n    // Loader'ƒ± gizle\r\n    // hideLoader fonksiyonu zaten minimum g√∂sterim s√ºresini dikkate alacak\r\n    setTimeout(() => {\r\n      hideLoader();\r\n    }, 500); // Sayfanƒ±n tam y√ºklenmesinden sonra 0.5 saniye daha bekle\r\n  });\r\n});\r\n"],"names":["trendCards","getWeeklyTrends","shuffleArray","array","i","j","showLoader","data","movieCount","shuffledResults","moviee","cardss","stars","renderMovieInfoPopup","error","hideLoader","lastScreenWidth","getUpcoming","resolve","reject","res","err","randomIndex","randomMovie","upComingGenreMap","genre","isLocalMovieById","e","addMovieToLocalStorage","removeMovieToLocalStorage"],"mappings":"4HAGA,MAAMA,EAAa,SAAS,cAAc,cAAc,EAExD,eAAeC,GAAkB,CAC/B,GAAI,CAmBF,IAASC,EAAT,SAAsBC,EAAO,CAC3B,QAASC,EAAID,EAAM,OAAS,EAAGC,EAAI,EAAGA,IAAK,CACzC,MAAMC,EAAI,KAAK,MAAM,KAAK,UAAYD,EAAI,EAAE,EAC5C,CAACD,EAAMC,CAAC,EAAGD,EAAME,CAAC,CAAC,EAAI,CAACF,EAAME,CAAC,EAAGF,EAAMC,CAAC,CAAC,CAC3C,CACD,OAAOD,CACR,EAxBDG,IAeA,MAAMC,EAAO,MAJI,MAAM,MACrB,+DAVc,CACd,OAAQ,MACR,QAAS,CACP,OAAQ,mBACR,cACE,6PACH,CACP,CAKA,GACgC,OAatBC,EADc,OAAO,YACO,IAAM,EAAI,EAGtCC,EAAkBP,EAAaK,EAAK,OAAO,EAAE,MAAM,EAAGC,CAAU,EAEtER,EAAW,UAAY,GAEvBS,EAAgB,QAAQC,GAAU,CAChC,MAAMC,EAAS,SAAS,cAAc,IAAI,EAC1CA,EAAO,UAAY,QACnBA,EAAO,MAAM,gBAAkB,0CAA0CD,EAAO,WAAW,IAC3F,MAAME,EAAQ,CACZ,0CACA,0CACA,0CACA,0CACA,yCACR,EACM,QAASR,EAAI,EAAGA,GAAKM,EAAO,aAAe,EAAGN,IAC5CQ,EAAMR,CAAC,EAAI,kCAEbO,EAAO,UAAY;AAAA;AAAA,mCAEUD,EAAO,OAASA,EAAO,IAAI;AAAA,qCACzBA,EAAO,YAAY;AAAA;AAAA;AAAA,YAG5CE,EAAM,KAAK,EAAE,CAAC;AAAA;AAAA,QAGpBD,EAAO,iBAAiB,QAAS,IAAM,CACrCE,EAAqBH,CAAM,CACnC,CAAO,EACDV,EAAW,YAAYW,CAAM,CACnC,CAAK,CACF,OAAQG,EAAO,CACd,QAAQ,MAAM,qBAAsBA,CAAK,CAC7C,QAAY,CACRC,GACD,CACH,CAGAd,IAGA,IAAIe,EAAkB,OAAO,WAE7B,OAAO,iBAAiB,SAAU,IAAM,EAGnCA,GAAmB,KAAO,OAAO,WAAa,KAC9CA,EAAkB,KAAO,OAAO,YAAc,OAE/CA,EAAkB,OAAO,WACzBf,IAEJ,CAAC,ECzFD,MAAMgB,EAAc,SACT,IAAI,QAAQ,CAACC,EAASC,IAAW,CASpC,MAAM,oEARU,CACZ,OAAQ,MACR,QAAS,CACL,OAAQ,mBACR,cAAe,wPAClB,CACb,CAE0F,EAC7E,KAAKC,GAAOA,EAAI,MAAM,EACtB,KAAKA,GAAO,CACTF,EAAQE,CAAG,CAC3B,CAAa,EACA,MAAMC,GAAO,QAAQ,MAAMA,CAAG,CAAC,CAC5C,CAAK,EAILJ,EAAa,EAAC,KAAKG,GAAO,CAEtB,MAAME,EAAc,KAAK,MAAM,KAAK,OAAM,EAAKF,EAAI,QAAQ,MAAM,EAE3DG,EAAcH,EAAI,QAAQE,CAAW,EAK3C,SAAS,cAAc,mBAAmB,EAAE,MAAM,gBAAkB,0CAA0CC,EAAY,WAAW,IACrI,SAAS,cAAc,iBAAiB,EAAE,YAAcA,EAAY,eACpE,SAAS,cAAc,gBAAgB,EAAE,YAAcA,EAAY,aACnE,SAAS,cAAc,gBAAgB,EAAE,YAAcA,EAAY,aAAa,QAAQ,CAAC,EACzF,SAAS,cAAc,iBAAiB,EAAE,YAAcA,EAAY,WACpE,SAAS,cAAc,sBAAsB,EAAE,YAAcA,EAAY,WAEzE,MAAMC,EAAmB,CACrB,GAAI,SACJ,GAAI,YACJ,GAAI,YACJ,GAAI,SACJ,GAAI,QACJ,GAAI,cACJ,GAAI,QACJ,MAAO,SACP,GAAI,UACJ,GAAI,UACJ,GAAI,SACJ,MAAO,QACP,KAAM,UACN,MAAO,UACP,IAAK,kBACL,MAAO,WACP,GAAI,WACJ,MAAO,MACP,GAAI,SACZ,EACI,SAAS,cAAc,kBAAkB,EAAE,YAAcD,EAAY,UAAU,IAAIE,GAASD,EAAiBC,CAAK,CAAC,EAAE,KAAK,IAAI,EAC9H,SAAS,cAAc,oBAAoB,EAAE,YAAcF,EAAY,SAEnEG,EAAiBH,EAAY,EAAE,GAI/B,SAAS,cAAc,uBAAuB,EAAE,MAAM,QAAU,OAChE,SAAS,cAAc,0BAA0B,EAAE,MAAM,QAAU,UAJnE,SAAS,cAAc,uBAAuB,EAAE,MAAM,QAAU,QAChE,SAAS,cAAc,0BAA0B,EAAE,MAAM,QAAU,QAMvE,SAAS,cAAc,uBAAuB,EAAE,iBAAiB,QAASI,GAAK,CAE3EA,EAAE,OAAO,MAAM,QAAU,OAEzBC,EAAuBL,CAAW,EAElC,SAAS,cAAc,0BAA0B,EAAE,MAAM,QAAU,OAC3E,CAAK,EACD,SAAS,cAAc,0BAA0B,EAAE,iBAAiB,QAASI,GAAK,CAE9E,SAAS,cAAc,0BAA0B,EAAE,MAAM,QAAU,OACnEE,EAA0BN,CAAW,EACrC,SAAS,cAAc,uBAAuB,EAAE,MAAM,QAAU,OACxE,CAAK,CAEL,CAAC,ECpED,SAAS,iBAAiB,mBAAoB,IAAM,CAGlDjB,IAGA,OAAO,iBAAiB,OAAQ,IAAM,CAGpC,WAAW,IAAM,CACfS,GACD,EAAE,GAAG,CACV,CAAG,CACH,CAAC"}